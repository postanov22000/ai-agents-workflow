<!-- templates/partials/new_transaction_gamified.html -->
<div class="p-4 gamified-form">
  <h2 class="mb-6 text-2xl font-bold">🌟 Ready to Rock a New Deal?</h2>
  <form
    id="new-txn-form"
    hx-post="/transactions/new?user_id={{ user_id }}"
    hx-swap="none"
    class="space-y-6"
  >
    <!-- Progress Bar -->
    <div class="relative h-2 bg-gray-200 rounded-full overflow-hidden">
      <div id="progress-bar" class="absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-green-400" style="width:12.5%"></div>
      <span class="absolute top-2 left-1 text-sm font-medium">Stage 1/10</span>
    </div>

    <!-- MISSION 1: Property Quest -->
    <fieldset class="space-y-3 mission-card active">
      <legend class="text-lg font-semibold">🏠 Property Quest</legend>
      <div class="form-group">
        <label>📍 Address of Adventure</label>
        <input type="text" name="property_address" class="form-control" placeholder="e.g. 123 Elm St" required>
      </div>
      <div class="form-group grid grid-cols-2 gap-4">
        <div>
          <label>🏙 City</label>
          <input type="text" name="city" class="form-control" placeholder="e.g. Gotham" required>
        </div>
        <div>
          <label>🌎 State</label>
          <input type="text" name="state" class="form-control" placeholder="e.g. NY" required>
        </div>
      </div>
    </fieldset>

    <!-- MISSION 2: Quick Property Details -->
    <fieldset class="space-y-3 mission-card">
      <legend class="text-lg font-semibold">🔍 Quick Property Details</legend>
      <div class="form-group">
        <label>📝 Description</label>
        <input type="text" name="description_of_property" class="form-control" placeholder="One-liner summary">
      </div>
      <div class="form-group grid grid-cols-2 gap-4">
        <div>
          <label>📏 Sq. Feet</label>
          <input type="number" name="square_feet" class="form-control" placeholder="e.g. 1500">
        </div>
        <div>
          <label>📜 Legal Desc.</label>
          <input type="text" name="legal_description" class="form-control" placeholder="Official details">
        </div>
      </div>
    </fieldset>

    <!-- MISSION 3: Cast & Crew -->
    <fieldset class="space-y-3 mission-card">
      <legend class="text-lg font-semibold">👥 Cast & Crew</legend>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label>🎭 Buyer Name</label>
          <input type="text" name="buyer_name" class="form-control" placeholder="Hero of the story" required>
        </div>
        <div>
          <label>🎭 Seller Name</label>
          <input type="text" name="seller_name" class="form-control" placeholder="Your counterpart" required>
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label>🏠 Buyer Address</label>
          <input type="text" name="buyer_address" class="form-control" placeholder="Where they live">
        </div>
        <div>
          <label>🏠 Seller Address</label>
          <input type="text" name="seller_address" class="form-control" placeholder="Original owner address">
        </div>
      </div>
    </fieldset>

    <!-- MISSION 4: Deal Dynamics -->
    <fieldset class="space-y-3 mission-card">
      <legend class="text-lg font-semibold">💰 Deal Dynamics</legend>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label>💸 Offer Price</label>
          <input type="number" name="purchase_price" step="0.01" class="form-control" placeholder="e.g. 250000">
        </div>
        <div>
          <label>💰 Deposit</label>
          <input type="number" name="deposit_amount" step="0.01" class="form-control" placeholder="e.g. 5000">
        </div>
      </div>
    </fieldset>

    <!-- MISSION 5: Timeline -->
    <fieldset class="space-y-3 mission-card">
      <legend class="text-lg font-semibold">🗓️ Timeline</legend>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label>📆 Agreement Date</label>
          <input type="date" name="agreement_date" class="form-control">
        </div>
        <div>
          <label>📅 Closing Date</label>
          <input type="date" name="closing_date" class="form-control">
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4 mt-4">
        <div>
          <label>🚪 Possession Date</label>
          <input type="date" name="possession_date" class="form-control">
        </div>
        <div>
          <label>🏠 Occupancy Date</label>
          <input type="date" name="occupy_property_date" class="form-control">
        </div>
      </div>
    </fieldset>

    <!-- MISSION 6: Financing -->
    <fieldset class="space-y-3 mission-card">
      <legend class="text-lg font-semibold">🏦 Financing</legend>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label>💼 Mortgage Amt.</label>
          <input type="number" name="mortgage_amount" class="form-control" placeholder="Loan amount">
        </div>
        <div>
          <label>📆 Term (years)</label>
          <input type="number" name="mortgage_years" class="form-control" placeholder="e.g. 30">
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4 mt-4">
        <div>
          <label>📊 Interest %</label>
          <input type="number" step="0.01" name="interest_rate" class="form-control" placeholder="e.g. 3.5">
        </div>
        <div>
          <label>🔍 Inspection Days</label>
          <input type="number" name="inspection_days" class="form-control" placeholder="e.g. 10">
        </</div>
      </div>
    </fieldset>

    <!-- MISSION 7: Extras -->
    <fieldset class="space-y-3 mission-card">
      <legend class="text-lg font-semibold">⭐ Extras & Details</legend>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label>🏢 Agency Name</label>
          <input type="text" name="agency_name" class="form-control" placeholder="Your agency">
        </div>
        <div>
          <label>📋 County</label>
          <input type="text" name="county" class="form-control" placeholder="e.g. King">
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4 mt-4">
        <div>
          <label>📍 Location Note</label>
          <input type="text" name="location" class="form-control" placeholder="Neighborhood details">
        </div>
        <div>
          <label>🏢 Structure Age</label>
          <input type="text" name="structure_age" class="form-control" placeholder="e.g. Built 1990">
        </div>
      </div>
    </fieldset>

    <!-- MISSION 8: Rent/Lease Terms -->
    <fieldset class="space-y-3 mission-card">
      <legend class="text-lg font-semibold">🏘️ Rent/Lease Terms (optional)</legend>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label>🧾 Rent Type</label>
          <input type="text" name="rent_type" class="form-control" placeholder="e.g. Month-to-month">
        </div>
        <div>
          <label>💳 Agreed Rent</label>
          <input type="number" name="agreed_rent" class="form-control" placeholder="Amount">
        </div>
      </div>
      <div class="form-group mt-4">
        <label>🛠️ Maintenance Terms</label>
        <input type="text" name="maintenance_terms" class="form-control" placeholder="Who handles repairs?">
      </div>
    </fieldset>

    <!-- MISSION 9: Contact Info -->
    <fieldset class="space-y-3 mission-card">
      <legend class="text-lg font-semibold">📞 Landlord & Tenant Contacts</legend>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label>📱 Landlord Phone</label>
          <input type="tel" name="landlord_phone" class="form-control" placeholder="e.g. (123) 456-7890">
        </div>
        <div>
          <label>📱 Tenant Phone</label>
          <input type="tel" name="tenant_phone" class="form-control" placeholder="e.g. (098) 765-4321">
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4 mt-4">
        <div>
          <label>📧 Landlord Email</label>
          <input type="email" name="landlord_email" class="form-control" placeholder="email@example.com">
        </div>
        <div>
          <label>📧 Tenant Email</label>
          <input type="email" name="tenant_email" class="form-control" placeholder="email@example.com">
        </div>
      </div>
    </fieldset>

    <!-- MISSION 10: Final Sign & Go -->
    <fieldset class="space-y-3 mission-card">
      <legend class="text-lg font-semibold">✍️ Final Sign & Go</legend>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label>🖋 Buyer Signature</label>
          <input type="text" name="buyer_signature" class="form-control" placeholder="Type full name">
        </div>
        <div>
          <label>🖋 Seller Signature</label>
          <input type="text" name="seller_signature" class="form-control" placeholder="Type full name">
        </div>
      </div>
      <div class="form-group mt-4">
        <label>⏱ Timestamp</label>
        <input type="time" name="time" class="form-control">
      </div>
    </fieldset>

    <button type="submit" class="btn btn-gradient w-full py-3 mt-4 font-bold text-white">
      🚀 Launch Deal! 
    </button>
  </form>
</div>
