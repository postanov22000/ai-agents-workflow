<!-- templates/partials/new_transaction_gamified.html -->
<div class="p-4 gamified-form">
  <h2 class="mb-6 text-2xl font-bold">🌟 Ready to Rock a New Deal?</h2>
  <form
    id="new-txn-form"
    hx-post="/transactions/new?user_id={{ user_id }}"
    hx-swap="none"
    class="space-y-6"
  >
    <!-- Progress Bar -->
    <div class="relative h-2 bg-gray-200 rounded-full overflow-hidden">
      <div id="progress-bar" class="absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-green-400" style="width:12.5%"></div>
      <span class="absolute top-2 left-1 text-sm font-medium">Stage 1/8</span>
    </div>

    <!-- MISSION 1: Property Quest -->
    <fieldset class="space-y-3">
      <legend class="text-lg font-semibold">🏠 Property Quest</legend>
      <div class="form-group">
        <label>📍 Address of Adventure</label>
        <input type="text" name="property_address" class="form-control" placeholder="e.g. 123 Elm St" required>
      </div>
      <div class="form-group grid grid-cols-2 gap-4">
        <div>
          <label>🏙 City</label>
          <input type="text" name="city" class="form-control" placeholder="e.g. Gotham" required>
        </div>
        <div>
          <label>🌎 State</label>
          <input type="text" name="state" class="form-control" placeholder="e.g. NY" required>
        </div>
      </div>
      <div class="form-group">
        <label>📝 Quick Brief</label>
        <input type="text" name="description_of_property" class="form-control" placeholder="One-liner summary">
      </div>
      <div class="form-group grid grid-cols-2 gap-4">
        <div>
          <label>📏 Sq. Feet</label>
          <input type="number" name="square_feet" class="form-control" placeholder="e.g. 1500">
        </div>
        <div>
          <label>📜 Legal Desc.</label>
          <input type="text" name="legal_description" class="form-control" placeholder="Official legal details">
        </div>
      </div>
    </fieldset>

    <!-- MISSION 2: Meet the Cast -->
    <fieldset class="space-y-3">
      <legend class="text-lg font-semibold">👥 Meet the Cast</legend>
      <div class="form-group grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label>🎭 Buyer Name</label>
          <input type="text" name="buyer_name" class="form-control" placeholder="Hero of the story" required>
        </div>
        <div>
          <label>🎭 Seller Name</label>
          <input type="text" name="seller_name" class="form-control" placeholder="Your counterpart" required>
        </div>
      </div>
    </fieldset>

    <!-- MISSION 3: Deal Dynamics -->
    <fieldset class="space-y-3">
      <legend class="text-lg font-semibold">💰 Deal Dynamics</legend>
      <div class="grid grid-cols-2 gap-4">
        <div class="form-group">
          <label>💸 Offer Price</label>
          <input type="number" name="purchase_price" step="0.01" class="form-control" placeholder="e.g. 250000">
        </div>
        <div class="form-group">
          <label>💰 Deposit</label>
          <input type="number" name="deposit_amount" step="0.01" class="form-control" placeholder="e.g. 5000">
        </div>
      </div>

      <div class="grid grid-cols-2 gap-4">
        <div>
          <label>📆 Agreement Date</label>
          <input type="date" name="agreement_date" class="form-control">
        </div>
        <div>
          <label>📅 Closing Date</label>
          <input type="date" name="closing_date" class="form-control">
        </div>
      </div>
    </fieldset>

    <!-- MISSION 4: Financing & Timing -->
    <fieldset class="space-y-3">
      <legend class="text-lg font-semibold">🏦 Financing & Timing</legend>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label>💼 Mortgage Amt.</label>
          <input type="number" name="mortgage_amount" class="form-control" placeholder="Loan amount">
        </div>
        <div>
          <label>📆 Term (years)</label>
          <input type="number" name="mortgage_years" class="form-control" placeholder="e.g. 30">
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label>📊 Interest %</label>
          <input type="number" step="0.01" name="interest_rate" class="form-control" placeholder="e.g. 3.5">
        </div>
        <div>
          <label>🔍 Inspect Days</label>
          <input type="number" name="inspection_days" class="form-control" placeholder="e.g. 10">
        </div>
      </div>
    </fieldset>

    <!-- MISSION 5: Contact Allies -->
    <fieldset class="space-y-3">
      <legend class="text-lg font-semibold">📞 Contact Allies</legend>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label>🤝 Broker Name</label>
          <input type="text" name="broker_name" class="form-control" placeholder="Your broker sidekick">
        </div>
        <div>
          <label>💼 Commission %</label>
          <input type="number" step="0.01" name="commission_amount" class="form-control" placeholder="e.g. 3">
        </div>
      </div>
    </fieldset>

    <!-- MISSION 6: Final Voices & Signatures -->
    <fieldset class="space-y-3">
      <legend class="text-lg font-semibold">✍️ Final Voices & Signatures</legend>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label>🖋 Buyer Sign</label>
          <input type="text" name="buyer_signature" class="form-control" placeholder="Type full name">
        </div>
        <div>
          <label>🖋 Seller Sign</label>
          <input type="text" name="seller_signature" class="form-control" placeholder="Type full name">
        </div>
      </div>
      <div class="form-group">
        <label>⏱ Timestamp</label>
        <input type="time" name="time" class="form-control">
      </div>
    </fieldset>

    <button type="submit" class="btn btn-gradient w-full py-3 mt-4 font-bold text-white">
      🚀 Launch Deal! 
    </button>
  </form>
</div>
